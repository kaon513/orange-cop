(function(b){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=b()}else{if(typeof define==="function"&&define.amd){define([],b)}else{var a;if(typeof window!=="undefined"){a=window}else{if(typeof global!=="undefined"){a=global}else{if(typeof self!=="undefined"){a=self}else{a=this}}}a.Parallax=b()}}})(function(){var d,b,a;return(function c(f,k,h){function g(q,n){if(!k[q]){if(!f[q]){var m=typeof require=="function"&&require;if(!n&&m){return m(q,!0)}if(e){return e(q,!0)}var p=new Error("Cannot find module '"+q+"'");throw p.code="MODULE_NOT_FOUND",p}var i=k[q]={exports:{}};f[q][0].call(i.exports,function(l){var o=f[q][1][l];return g(o?o:l)},i,i.exports,c,f,k,h)}return k[q].exports}var e=typeof require=="function"&&require;for(var j=0;j<h.length;j++){g(h[j])}return g})({1:[function(g,h,e){var l=Object.getOwnPropertySymbols;var i=Object.prototype.hasOwnProperty;var f=Object.prototype.propertyIsEnumerable;function j(m){if(m===null||m===undefined){throw new TypeError("Object.assign cannot be called with null or undefined")}return Object(m)}function k(){try{if(!Object.assign){return false}var q=new String("abc");q[5]="de";if(Object.getOwnPropertyNames(q)[0]==="5"){return false}var p={};for(var o=0;o<10;o++){p["_"+String.fromCharCode(o)]=o}var n=Object.getOwnPropertyNames(p).map(function(s){return p[s]});if(n.join("")!=="0123456789"){return false}var m={};"abcdefghijklmnopqrst".split("").forEach(function(s){m[s]=s});if(Object.keys(Object.assign({},m)).join("")!=="abcdefghijklmnopqrst"){return false}return true}catch(r){return false}}h.exports=k()?Object.assign:function(r,q){var u;var t=j(r);var m;for(var p=1;p<arguments.length;p++){u=Object(arguments[p]);for(var o in u){if(i.call(u,o)){t[o]=u[o]}}if(l){m=l(u);for(var n=0;n<m.length;n++){if(f.call(u,m[n])){t[m[n]]=u[m[n]]}}}}return t}},{}],2:[function(f,g,e){(function(h){(function(){var m,n,k,j,l,i;if((typeof performance!=="undefined"&&performance!==null)&&performance.now){g.exports=function(){return performance.now()}}else{if((typeof h!=="undefined"&&h!==null)&&h.hrtime){g.exports=function(){return(m()-l)/1000000};n=h.hrtime;m=function(){var o;o=n();return o[0]*1000000000+o[1]};j=m();i=h.uptime()*1000000000;l=j-i}else{if(Date.now){g.exports=function(){return Date.now()-k};k=Date.now()}else{g.exports=function(){return new Date().getTime()-k};k=new Date().getTime()}}}}).call(this)}).call(this,f("_process"))},{_process:3}],3:[function(j,e,v){var m=e.exports={};var n;var p;function k(){throw new Error("setTimeout has not been defined")}function t(){throw new Error("clearTimeout has not been defined")}(function(){try{if(typeof setTimeout==="function"){n=setTimeout}else{n=k}}catch(w){n=k}try{if(typeof clearTimeout==="function"){p=clearTimeout}else{p=t}}catch(w){p=t}}());function i(w){if(n===setTimeout){return setTimeout(w,0)}if((n===k||!n)&&setTimeout){n=setTimeout;return setTimeout(w,0)}try{return n(w,0)}catch(x){try{return n.call(null,w,0)}catch(x){return n.call(this,w,0)}}}function h(w){if(p===clearTimeout){return clearTimeout(w)}if((p===t||!p)&&clearTimeout){p=clearTimeout;return clearTimeout(w)}try{return p(w)}catch(x){try{return p.call(null,w)}catch(x){return p.call(this,w)}}}var q=[];var u=false;var l;var r=-1;function o(){if(!u||!l){return}u=false;if(l.length){q=l.concat(q)}else{r=-1}if(q.length){s()}}function s(){if(u){return}var x=i(o);u=true;var w=q.length;while(w){l=q;q=[];while(++r<w){if(l){l[r].run()}}r=-1;w=q.length}l=null;u=false;h(x)}m.nextTick=function(w){var x=new Array(arguments.length-1);if(arguments.length>1){for(var y=1;y<arguments.length;y++){x[y-1]=arguments[y]}}q.push(new f(w,x));if(q.length===1&&!u){i(s)}};function f(w,x){this.fun=w;this.array=x}f.prototype.run=function(){this.fun.apply(null,this.array)};m.title="browser";m.browser=true;m.env={};m.argv=[];m.version="";m.versions={};function g(){}m.on=g;m.addListener=g;m.once=g;m.off=g;m.removeListener=g;m.removeAllListeners=g;m.emit=g;m.prependListener=g;m.prependOnceListener=g;m.listeners=function(w){return[]};m.binding=function(w){throw new Error("process.binding is not supported")};m.cwd=function(){return"/"};m.chdir=function(w){throw new Error("process.chdir is not supported")};m.umask=function(){return 0}},{}],4:[function(f,g,e){(function(k){var l=f("performance-now"),q=typeof window==="undefined"?k:window,s=["moz","webkit"],t="AnimationFrame",p=q["request"+t],m=q["cancel"+t]||q["cancelRequest"+t];for(var n=0;!p&&n<s.length;n++){p=q[s[n]+"Request"+t];m=q[s[n]+"Cancel"+t]||q[s[n]+"CancelRequest"+t]}if(!p||!m){var r=0,j=0,o=[],h=1000/60;p=function(v){if(o.length===0){var i=l(),u=Math.max(0,h-(i-r));r=u+i;setTimeout(function(){var y=o.slice(0);o.length=0;for(var w=0;w<y.length;w++){if(!y[w].cancelled){try{y[w].callback(r)}catch(x){setTimeout(function(){throw x},0)}}}},Math.round(u))}o.push({handle:++j,callback:v,cancelled:false});return j};m=function(v){for(var u=0;u<o.length;u++){if(o[u].handle===v){o[u].cancelled=true}}}}g.exports=function(i){return p.call(q,i)};g.exports.cancel=function(){m.apply(q,arguments)};g.exports.polyfill=function(){q.requestAnimationFrame=p;q.cancelAnimationFrame=m}}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"performance-now":2}],5:[function(j,f,u){var q=function(){function w(A,y){for(var x=0;x<y.length;x++){var z=y[x];z.enumerable=z.enumerable||false;z.configurable=true;if("value" in z){z.writable=true}Object.defineProperty(A,z.key,z)}}return function(z,x,y){if(x){w(z.prototype,x)}if(y){w(z,y)}return z}}();function g(w,x){if(!(w instanceof x)){throw new TypeError("Cannot call a class as a function")}}var m=j("raf");var v=j("object-assign");var o={propertyCache:{},vendors:[null,["-webkit-","webkit"],["-moz-","Moz"],["-o-","O"],["-ms-","ms"]],clamp:function l(y,x,w){return x<w?y<x?x:y>w?w:y:y<w?w:y>x?x:y},data:function t(x,w){return o.deserialize(x.getAttribute("data-"+w))},deserialize:function r(w){if(w==="true"){return true}else{if(w==="false"){return false}else{if(w==="null"){return null}else{if(!isNaN(parseFloat(w))&&isFinite(w)){return parseFloat(w)}else{return w}}}}},camelCase:function n(w){return w.replace(/-+(.)?/g,function(x,y){return y?y.toUpperCase():""})},accelerate:function p(w){o.css(w,"transform","translate3d(0,0,0) rotate(0.0001deg)");o.css(w,"transform-style","preserve-3d");o.css(w,"backface-visibility","hidden")},transformSupport:function s(I){var B=document.createElement("div"),F=false,A=null,E=false,G=null,x=null;for(var C=0,z=o.vendors.length;C<z;C++){if(o.vendors[C]!==null){G=o.vendors[C][0]+"transform";x=o.vendors[C][1]+"Transform"}else{G="transform";x="transform"}if(B.style[x]!==undefined){F=true;break}}switch(I){case"2D":E=F;break;case"3D":if(F){var D=document.body||document.createElement("body"),H=document.documentElement,y=H.style.overflow,w=false;if(!document.body){w=true;H.style.overflow="hidden";H.appendChild(D);D.style.overflow="hidden";D.style.background=""}D.appendChild(B);B.style[x]="translate3d(1px,1px,1px)";A=window.getComputedStyle(B).getPropertyValue(G);E=A!==undefined&&A.length>0&&A!=="none";H.style.overflow=y;D.removeChild(B);if(w){D.removeAttribute("style");D.parentNode.removeChild(D)}}break}return E},css:function k(y,B,A){var z=o.propertyCache[B];if(!z){for(var x=0,w=o.vendors.length;x<w;x++){if(o.vendors[x]!==null){z=o.camelCase(o.vendors[x][1]+"-"+B)}else{z=B}if(y.style[z]!==undefined){o.propertyCache[B]=z;break}}}y.style[z]=A}};var h=30,e={relativeInput:false,clipRelativeInput:false,inputElement:null,hoverOnly:false,calibrationThreshold:100,calibrationDelay:500,supportDelay:500,calibrateX:false,calibrateY:true,invertX:true,invertY:true,limitX:false,limitY:false,scalarX:10,scalarY:10,frictionX:0.1,frictionY:0.1,originX:0.5,originY:0.5,pointerEvents:false,precision:1,onReady:null,selector:null};var i=function(){function E(aa,Y){g(this,E);this.element=aa;var ab={calibrateX:o.data(this.element,"calibrate-x"),calibrateY:o.data(this.element,"calibrate-y"),invertX:o.data(this.element,"invert-x"),invertY:o.data(this.element,"invert-y"),limitX:o.data(this.element,"limit-x"),limitY:o.data(this.element,"limit-y"),scalarX:o.data(this.element,"scalar-x"),scalarY:o.data(this.element,"scalar-y"),frictionX:o.data(this.element,"friction-x"),frictionY:o.data(this.element,"friction-y"),originX:o.data(this.element,"origin-x"),originY:o.data(this.element,"origin-y"),pointerEvents:o.data(this.element,"pointer-events"),precision:o.data(this.element,"precision"),relativeInput:o.data(this.element,"relative-input"),clipRelativeInput:o.data(this.element,"clip-relative-input"),hoverOnly:o.data(this.element,"hover-only"),inputElement:document.querySelector(o.data(this.element,"input-element")),selector:o.data(this.element,"selector")};for(var Z in ab){if(ab[Z]===null){delete ab[Z]}}v(this,e,ab,Y);if(!this.inputElement){this.inputElement=this.element}this.calibrationTimer=null;this.calibrationFlag=true;this.enabled=false;this.depthsX=[];this.depthsY=[];this.raf=null;this.bounds=null;this.elementPositionX=0;this.elementPositionY=0;this.elementWidth=0;this.elementHeight=0;this.elementCenterX=0;this.elementCenterY=0;this.elementRangeX=0;this.elementRangeY=0;this.calibrationX=0;this.calibrationY=0;this.inputX=0;this.inputY=0;this.motionX=0;this.motionY=0;this.velocityX=0;this.velocityY=0;this.onMouseMove=this.onMouseMove.bind(this);this.onDeviceOrientation=this.onDeviceOrientation.bind(this);this.onDeviceMotion=this.onDeviceMotion.bind(this);this.onOrientationTimer=this.onOrientationTimer.bind(this);this.onMotionTimer=this.onMotionTimer.bind(this);this.onCalibrationTimer=this.onCalibrationTimer.bind(this);this.onAnimationFrame=this.onAnimationFrame.bind(this);this.onWindowResize=this.onWindowResize.bind(this);this.windowWidth=null;this.windowHeight=null;this.windowCenterX=null;this.windowCenterY=null;this.windowRadiusX=null;this.windowRadiusY=null;this.portrait=false;this.desktop=!navigator.userAgent.match(/(iPhone|iPod|iPad|Android|BlackBerry|BB10|mobi|tablet|opera mini|nexus 7)/i);this.motionSupport=!!window.DeviceMotionEvent&&!this.desktop;this.orientationSupport=!!window.DeviceOrientationEvent&&!this.desktop;this.orientationStatus=0;this.motionStatus=0;this.initialise()}q(E,[{key:"initialise",value:function P(){if(this.transform2DSupport===undefined){this.transform2DSupport=o.transformSupport("2D");this.transform3DSupport=o.transformSupport("3D")}if(this.transform3DSupport){o.accelerate(this.element)}var Y=window.getComputedStyle(this.element);if(Y.getPropertyValue("position")==="static"){this.element.style.position="relative"}if(!this.pointerEvents){this.element.style.pointerEvents="none"}this.updateLayers();this.updateDimensions();this.enable();this.queueCalibration(this.calibrationDelay)}},{key:"doReadyCallback",value:function O(){if(this.onReady){this.onReady()}}},{key:"updateLayers",value:function S(){if(this.selector){this.layers=this.element.querySelectorAll(this.selector)}else{this.layers=this.element.children}if(!this.layers.length){console.warn("ParallaxJS: Your scene does not have any layers.")}this.depthsX=[];this.depthsY=[];for(var Y=0;Y<this.layers.length;Y++){var Z=this.layers[Y];if(this.transform3DSupport){o.accelerate(Z)}Z.style.position=Y?"absolute":"relative";Z.style.display="block";Z.style.left=0;Z.style.top=0;var aa=o.data(Z,"depth")||0;this.depthsX.push(o.data(Z,"depth-x")||aa);this.depthsY.push(o.data(Z,"depth-y")||aa)}}},{key:"updateDimensions",value:function F(){this.windowWidth=window.innerWidth;this.windowHeight=window.innerHeight;this.windowCenterX=this.windowWidth*this.originX;this.windowCenterY=this.windowHeight*this.originY;this.windowRadiusX=Math.max(this.windowCenterX,this.windowWidth-this.windowCenterX);this.windowRadiusY=Math.max(this.windowCenterY,this.windowHeight-this.windowCenterY)}},{key:"updateBounds",value:function Q(){this.bounds=this.inputElement.getBoundingClientRect();this.elementPositionX=this.bounds.left;this.elementPositionY=this.bounds.top;this.elementWidth=this.bounds.width;this.elementHeight=this.bounds.height;this.elementCenterX=this.elementWidth*this.originX;this.elementCenterY=this.elementHeight*this.originY;this.elementRangeX=Math.max(this.elementCenterX,this.elementWidth-this.elementCenterX);this.elementRangeY=Math.max(this.elementCenterY,this.elementHeight-this.elementCenterY)}},{key:"queueCalibration",value:function G(Y){clearTimeout(this.calibrationTimer);this.calibrationTimer=setTimeout(this.onCalibrationTimer,Y)}},{key:"enable",value:function K(){if(this.enabled){return}this.enabled=true;if(this.orientationSupport){this.portrait=false;window.addEventListener("deviceorientation",this.onDeviceOrientation);this.detectionTimer=setTimeout(this.onOrientationTimer,this.supportDelay)}else{if(this.motionSupport){this.portrait=false;window.addEventListener("devicemotion",this.onDeviceMotion);this.detectionTimer=setTimeout(this.onMotionTimer,this.supportDelay)}else{this.calibrationX=0;this.calibrationY=0;this.portrait=false;window.addEventListener("mousemove",this.onMouseMove);this.doReadyCallback()}}window.addEventListener("resize",this.onWindowResize);this.raf=m(this.onAnimationFrame)}},{key:"disable",value:function A(){if(!this.enabled){return}this.enabled=false;if(this.orientationSupport){window.removeEventListener("deviceorientation",this.onDeviceOrientation)}else{if(this.motionSupport){window.removeEventListener("devicemotion",this.onDeviceMotion)}else{window.removeEventListener("mousemove",this.onMouseMove)}}window.removeEventListener("resize",this.onWindowResize);m.cancel(this.raf)}},{key:"calibrate",value:function H(Y,Z){this.calibrateX=Y===undefined?this.calibrateX:Y;this.calibrateY=Z===undefined?this.calibrateY:Z}},{key:"invert",value:function L(Y,Z){this.invertX=Y===undefined?this.invertX:Y;this.invertY=Z===undefined?this.invertY:Z}},{key:"friction",value:function C(Y,Z){this.frictionX=Y===undefined?this.frictionX:Y;this.frictionY=Z===undefined?this.frictionY:Z}},{key:"scalar",value:function X(Y,Z){this.scalarX=Y===undefined?this.scalarX:Y;this.scalarY=Z===undefined?this.scalarY:Z}},{key:"limit",value:function U(Y,Z){this.limitX=Y===undefined?this.limitX:Y;this.limitY=Z===undefined?this.limitY:Z}},{key:"origin",value:function W(Y,Z){this.originX=Y===undefined?this.originX:Y;this.originY=Z===undefined?this.originY:Z}},{key:"setInputElement",value:function w(Y){this.inputElement=Y;this.updateDimensions()}},{key:"setPosition",value:function y(Z,Y,aa){Y=Y.toFixed(this.precision)+"px";aa=aa.toFixed(this.precision)+"px";if(this.transform3DSupport){o.css(Z,"transform","translate3d("+Y+","+aa+",0)")}else{if(this.transform2DSupport){o.css(Z,"transform","translate("+Y+","+aa+")")}else{Z.style.left=Y;Z.style.top=aa}}}},{key:"onOrientationTimer",value:function I(){if(this.orientationSupport&&this.orientationStatus===0){this.disable();this.orientationSupport=false;this.enable()}else{this.doReadyCallback()}}},{key:"onMotionTimer",value:function T(){if(this.motionSupport&&this.motionStatus===0){this.disable();this.motionSupport=false;this.enable()}else{this.doReadyCallback()}}},{key:"onCalibrationTimer",value:function x(){this.calibrationFlag=true}},{key:"onWindowResize",value:function z(){this.updateDimensions()}},{key:"onAnimationFrame",value:function N(){this.updateBounds();var ae=this.inputX-this.calibrationX,ac=this.inputY-this.calibrationY;if(Math.abs(ae)>this.calibrationThreshold||Math.abs(ac)>this.calibrationThreshold){this.queueCalibration(0)}if(this.portrait){this.motionX=this.calibrateX?ac:this.inputY;this.motionY=this.calibrateY?ae:this.inputX}else{this.motionX=this.calibrateX?ae:this.inputX;this.motionY=this.calibrateY?ac:this.inputY}this.motionX*=this.elementWidth*(this.scalarX/100);this.motionY*=this.elementHeight*(this.scalarY/100);if(!isNaN(parseFloat(this.limitX))){this.motionX=o.clamp(this.motionX,-this.limitX,this.limitX)}if(!isNaN(parseFloat(this.limitY))){this.motionY=o.clamp(this.motionY,-this.limitY,this.limitY)}this.velocityX+=(this.motionX-this.velocityX)*this.frictionX;this.velocityY+=(this.motionY-this.velocityY)*this.frictionY;for(var aa=0;aa<this.layers.length;aa++){var ab=this.layers[aa],Z=this.depthsX[aa],Y=this.depthsY[aa],ad=this.velocityX*(Z*(this.invertX?-1:1)),af=this.velocityY*(Y*(this.invertY?-1:1));this.setPosition(ab,ad,af)}this.raf=m(this.onAnimationFrame)}},{key:"rotate",value:function R(aa,Z){var Y=(aa||0)/h,ac=(Z||0)/h;var ab=this.windowHeight>this.windowWidth;if(this.portrait!==ab){this.portrait=ab;this.calibrationFlag=true}if(this.calibrationFlag){this.calibrationFlag=false;this.calibrationX=Y;this.calibrationY=ac}this.inputX=Y;this.inputY=ac}},{key:"onDeviceOrientation",value:function J(Z){var aa=Z.beta;var Y=Z.gamma;if(aa!==null&&Y!==null){this.orientationStatus=1;this.rotate(aa,Y)}}},{key:"onDeviceMotion",value:function D(Z){var aa=Z.rotationRate.beta;var Y=Z.rotationRate.gamma;if(aa!==null&&Y!==null){this.motionStatus=1;this.rotate(aa,Y)}}},{key:"onMouseMove",value:function M(aa){var Z=aa.clientX,Y=aa.clientY;if(this.hoverOnly&&(Z<this.elementPositionX||Z>this.elementPositionX+this.elementWidth||Y<this.elementPositionY||Y>this.elementPositionY+this.elementHeight)){this.inputX=0;this.inputY=0;return}if(this.relativeInput){if(this.clipRelativeInput){Z=Math.max(Z,this.elementPositionX);Z=Math.min(Z,this.elementPositionX+this.elementWidth);Y=Math.max(Y,this.elementPositionY);Y=Math.min(Y,this.elementPositionY+this.elementHeight)}if(this.elementRangeX&&this.elementRangeY){this.inputX=(Z-this.elementPositionX-this.elementCenterX)/this.elementRangeX;this.inputY=(Y-this.elementPositionY-this.elementCenterY)/this.elementRangeY}}else{if(this.windowRadiusX&&this.windowRadiusY){this.inputX=(Z-this.windowCenterX)/this.windowRadiusX;this.inputY=(Y-this.windowCenterY)/this.windowRadiusY}}}},{key:"destroy",value:function V(){this.disable();clearTimeout(this.calibrationTimer);clearTimeout(this.detectionTimer);this.element.removeAttribute("style");for(var Y=0;Y<this.layers.length;Y++){this.layers[Y].removeAttribute("style")}delete this.element;delete this.layers}},{key:"version",value:function B(){return"3.1.0"}}]);return E}();f.exports=i},{"object-assign":1,raf:4}]},{},[5])(5)});